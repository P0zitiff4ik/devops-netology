# Домашнее задание к занятию «Хранение в K8s. Часть 1»

## [Задание](https://github.com/netology-code/kuber-homeworks/blob/1251f3685694d0e28a985cf4464ef8b94e9ccc09/2.1/2.1.md)

### Цель задания

В тестовой среде Kubernetes нужно обеспечить обмен файлами между контейнерам пода и доступ к логам ноды.

<details><summary>

### Описание

</summary>

------

#### Задание 1 

**Что нужно сделать**

Создать Deployment приложения, состоящего из двух контейнеров и обменивающихся данными.

1. Создать Deployment приложения, состоящего из контейнеров busybox и multitool.
2. Сделать так, чтобы busybox писал каждые пять секунд в некий файл в общей директории.
3. Обеспечить возможность чтения файла контейнером multitool.
4. Продемонстрировать, что multitool может читать файл, который периодоически обновляется.
5. Предоставить манифесты Deployment в решении, а также скриншоты или вывод команды из п. 4.

------

#### Задание 2

**Что нужно сделать**

Создать DaemonSet приложения, которое может прочитать логи ноды.

1. Создать DaemonSet приложения, состоящего из multitool.
2. Обеспечить возможность чтения файла `/var/log/syslog` кластера MicroK8S.
3. Продемонстрировать возможность чтения файла изнутри пода.
4. Предоставить манифесты Deployment, а также скриншоты или вывод команды из п. 2.

------

#### Правила приёма работы

1. Домашняя работа оформляется в своём Git-репозитории в файле README.md. Выполненное задание пришлите ссылкой на .md-файл в вашем репозитории.
2. Файл README.md должен содержать скриншоты вывода необходимых команд `kubectl`, а также скриншоты результатов.
3. Репозиторий должен содержать тексты манифестов или ссылки на них в файле README.md.

------

</details>

---

## Решение

### Задание 1

Deployment создался:
> ![Apply](img/apply.png)

Из контейнера с Multitool можно прочесть обновляемый каждый пять секунд через контейнер Busybox файл:
> ![Read](img/read.png)

Манифесты:
* [Deployment](kube_manifests/deployment.yaml)

---

### Задание 2
DaemonSet создался:
> ![DaemonSet](img/daemonset.png)

Из контейнера с Multitool есть доступ до хостового файла /var/log/syslog
> ![syslog](img/syslog.png)

Можно прочитать содержимое:
> ![tail syslog](img/tail_syslog.png)

Манифесты:
* [DaemonSet](kube_manifests/daemonset.yaml)
